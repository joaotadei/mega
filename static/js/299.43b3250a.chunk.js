"use strict";(self.webpackChunkmegatelecom=self.webpackChunkmegatelecom||[]).push([[299],{4299:(e,a,t)=>{t.r(a),t.d(a,{default:()=>x});var r=t(2791),s=t(658),n=t(3956),o=t(5705),i=t(1678),l=t(5848),c=t(1052),m=t(9876),u=t(1397),d=t(4412),p=t(1131),g=t(7477),h=t(1426),b=t(184);const x=()=>{const e=(0,s.Fg)(),{api:a}=(0,i.Z)((e=>({api:e.getApi()})),l.X),[x,f]=(0,r.useState)(!1),[v,C]=(0,r.useState)(""),S=(0,o.TA)({initialValues:{username:""},validateOnChange:!1,validationSchema:m.QA,onSubmit:async e=>{try{const t={username:(0,h.kZ)(e.username)?e.username:(0,h.Xq)(e.username)},{data:r}=await a.post("auth/first_access",t);C(r.message),f(!0)}catch(n){var t,r;if(n instanceof g.d7)(0,s.Am)({type:"error",description:null===n||void 0===n||null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message,position:"bottom-right"})}finally{S.setSubmitting(!1)}}}),k=(0,r.useCallback)((e=>{const a=e.target.name;e.target.value=(0,h.Hp)(e.target.value),S.setFieldError(a,""),S.handleChange(e)}),[S]);return(0,b.jsx)(d.Z,{children:x?(0,b.jsx)(p.Z,{title:"Senha enviada com sucesso!",description:v,goToLogin:!0}):(0,b.jsxs)(u.B,{children:[(0,b.jsx)(c.TR,{src:t(686)}),(0,b.jsx)(s.ZT,{"data-title":!0,fontSize:"lg",mTop:"md",color:e.brand.color.primary.pure,children:"Preencha seu E-mail ou CNPJ ou CPF abaixo"}),(0,b.jsx)(s.ZT,{"data-title":!0,fontSize:"xs",fontFamily:"Open Sans, sans-serif",mTop:"nano",textAlign:"center",fontWeight:"normal",mBottom:"sm",color:e.brand.color.primary.pure,children:"Voc\xea receber\xe1 por e-mail o link para concluir seu acesso"}),(0,b.jsx)(n.Z,{name:"username",placeholder:"E-mail, CPF ou CNPJ",mBottom:"xxs",value:S.values.username,error:S.errors.username,onChange:k}),(0,b.jsx)(s.zx,{onClick:()=>S.handleSubmit(),type:"button",disabled:S.isSubmitting,mBottom:"xs",bgColor:e.brand.color.primary.pure,isFullWidth:!0,mTop:"sm",children:"Receber"})]})})}},1426:(e,a,t)=>{t.d(a,{Hp:()=>r,Xq:()=>n,kZ:()=>s});const r=e=>{if(s(e))return e;const a=n(e);return/^\d*$/.test(a)?a.length<=11?a.replace(/(\d{3})(\d{3})(\d{3})/,"$1.$2.$3-"):a.replace(/(\d{2})(\d{3})(\d{3})(\d{4})/,"$1.$2.$3/$4-"):e},s=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),n=e=>e.replace(/[.-/]/g,"").replace(/-(?!>)/g,"")}}]);
//# sourceMappingURL=299.43b3250a.chunk.js.map